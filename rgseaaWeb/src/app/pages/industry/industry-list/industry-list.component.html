<tsw-breadcrumbs></tsw-breadcrumbs>

<div class="flex justify-end">
    <h1 class="text-3xl">LISTA DE EMPRESAS</h1>
    <br/>
</div>

<tsw-filters-container class="pt-3">
    <tsw-industry-list-filter *tswCustomFilter="'advanced'"></tsw-industry-list-filter>
</tsw-filters-container>

<tsw-table-container
    class="pt-3"
    [loading]="loading"
    [paginator]="paginator"
    [columns]="columns"
    (reload)="reloadData()"
    (page)="navigatePage($event)"
>

<table
    tsw-table
    [dataSource]="source"
    matSort
    (matSortChange)="sortData($event)">

    <tr mat-header-row *matHeaderRowDef="(columns.columns | async) ?? []"></tr>

    <tr mat-row *matRowDef="let row; columns: (columns.columns | async) ?? []"></tr>

    <tr
        *matNoDataRow
        tsw-table-empty-row
        [loading]="loading"
        [columns]="columns"
    ></tr>


    <ng-container matColumnDef="select" [sticky]="true">
        <th mat-header-cell *matHeaderCellDef>
            <mat-checkbox
                (click)="$event.stopPropagation()"
                (change)="selectAll($event)"
                [checked]="
                selection.hasValue() &&
                source.data.length === selection.selected.length
              "
                [indeterminate]="
                selection.hasValue() &&
                source.data.length !== selection.selected.length
              "
            ></mat-checkbox>
        </th>
        <td mat-cell *matCellDef="let row">
            <mat-checkbox
                (click)="$event.stopPropagation()"
                (change)="select($event, row)"
                [checked]="selection.isSelected(row)"
            ></mat-checkbox>
        </td>

    </ng-container>

    <ng-container matColumnDef="rgseaanue">
        <th *matHeaderCellDef mat-header-cell>
            NUE
        </th>
        <td *matCellDef="let element" mat-cell>{{element.numBusiness}}</td>
    </ng-container>

    <ng-container matColumnDef="rgseaa">
        <th *matHeaderCellDef mat-header-cell>
            RGSEAA
        </th>
        <td *matCellDef="let element" mat-cell>{{element.numBusiness}}</td>
    </ng-container>

    <ng-container matColumnDef="name">
        <th *matHeaderCellDef mat-header-cell>
            RAZON SOCIAL
        </th>
        <td *matCellDef="let element" mat-cell>{{element.nameBusiness}}</td>
    </ng-container>

    <ng-container matColumnDef="situation">
        <th *matHeaderCellDef mat-header-cell>
            SITUACION
        </th>
        <td *matCellDef="let element" mat-cell>{{element.situation.name}}</td>
    </ng-container>

    <ng-container matColumnDef="actions">
        <th *matHeaderCellDef mat-header-cell>
            Acciones
        </th>
        <td *matCellDef="let element" mat-cell  class="text-right">

            <ng-container>
                <div>
                    <a
                        mat-button
                        [routerLink]="'industryManagementEdit' | namedRoute: { id: element.id }"
                    >
                        <mat-icon>edit</mat-icon>
                    </a>
                </div>
            </ng-container>

        </td>
    </ng-container>

</table>

</tsw-table-container>
